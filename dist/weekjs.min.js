!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function t(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&a(r,n.prototype),r}).apply(null,arguments)}var o=6048e5;function e(t){var e=new Date(t.getTime());return e.setHours(23,59,59),e}function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;t.setHours(0,0,0,0);var e=t.getDay(),n=new Date(t.getTime());return 0===e?n.setDate(n.getDate()-6):n.setDate(n.getDate()-e+1),n}function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;t.setHours(0,0,0,0);var e=h(t);return e.setDate(e.getDate()+6),e}var r=function(){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length){var i=new Date;return i.setHours(0,0,0,0),this._c(i)}if(1===e.length){if(e[0]instanceof Date){var r=new Date(e[0].getTime());return r.setHours(0,0,0,0),this._c(r)}return u(s,[(new Date).getFullYear()].concat(e))}var a=new Date("".concat(parseInt(e[0]),"-1-1 00:00:00"));return a.setDate(a.getDate()+7*parseInt(e[1])-7),this._c(a)}return t(s,[{key:"_c",value:function(t){var e=new Date(t.getTime());return this.year=e.getFullYear(),this.month=e.getMonth(),this.fYD=new Date("".concat(this.year,"-1-1 00:00:00")),this.lYD=new Date("".concat(this.year,"-12-31 00:00:00")),this.sDF=h(e),this.sD=this.sDF.getTime()<this.fYD.getTime()?new Date("".concat(this.year,"-1-1 00:00:00")):this.sDF,this.eDF=n(e),this.eD=this.eDF.getTime()>this.lYD.getTime()?new Date("".concat(this.year,"-12-31 00:00:00")):this.eDF,this.fYMD=h(this.fYD),this.fYMD.getTime()<this.fYD.getTime()?(this.fYMDF=n(this.fYD),this.fYMDF.setDate(this.fYMDF.getDate()+1)):this.fYMDF=new Date(this.fYMD.getTime()),this.lYSD=n(this.lYD),this}}]),t(s,[{key:"addWeek",value:function(t){var e=new Date(this.sD.getTime());return e.setDate(e.getDate()+7*t),this._c(e)}},{key:"subWeek",value:function(t){return this.addWeek(-t)}},{key:"getYear",value:function(){return this.year}},{key:"getMonth",value:function(){return this.month+1}},{key:"getWeek",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return Math.round((this.sDF.getTime()-(e?this.fYMDF:this.fYMD).getTime())/o)+1}},{key:"getWeekOfMonth",value:function(t){var e=0<arguments.length&&void 0!==t&&t,n=new Date("".concat(this.year,"-").concat(this.month+1,"-1 00:00:00")),i=h(n);e&&i.getTime()<n.getTime()&&i.setDate(i.getDate()+7);var r=Math.round((this.sDF.getTime()-i.getTime())/o)+1;return r||(n.setDate(0),f(n).getWeekOfMonth(e))}},{key:"getWeekCount",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return 1+~~((this.lYSD.getTime()-(e?this.fYMDF:this.fYMD).getTime())/o)}},{key:"getRange",value:function(t){return 0<arguments.length&&void 0!==t&&t?[this.sDF,e(this.eDF)]:[this.sD,e(this.eD)]}},{key:"getYearRange",value:function(t){return 0<arguments.length&&void 0!==t&&t?[this.fYMDF,e(this.lYSD)]:[this.fYMD,e(this.lYSD)]}}]),s}(),f=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(r,e)};f.getPreMonday=h,f.getPostSunday=n,f.set235959=e,module.exports=f});
